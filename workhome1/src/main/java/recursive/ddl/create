CREATE DATABASE fok_grodno;


CREATE SCHEMA cd;


CREATE TABLE facilities
(
    facid              BIGINT PRIMARY KEY,
    name               CHARACTER VARYING(100) UNIQUE NOT NULL,
    membercost         NUMERIC                       NOT NULL,
    guestcost          NUMERIC                       NOT NULL,
    initialoutlay      NUMERIC                       NOT NULL,
    monthlymaintenance NUMERIC                       NOT NULL

);


CREATE TABLE members
(
    memid         BIGINT PRIMARY KEY,
    surname       CHARACTER VARYING(200)       NOT NULL,
    firstname     CHARACTER VARYING(200)       NOT NULL,
    address       CHARACTER VARYING(300)       NOT NULL,
    zipcode       INTEGER                      NOT NULL,
    telephone     CHARACTER VARYING(20) UNIQUE NOT NULL,
    recommendedby INTEGER,
    joindate      TIMESTAMP                    NOT NULL
);


CREATE TABLE bookings
(
    facid     INTEGER REFERENCES facilities(facid)NOT NULL ,
    memid     INTEGER REFERENCES members(memid) NOT NULL  ,
    starttime timestamp NOT NULL,
    slots     INTEGER   NOT NULL
);